<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Homework 2 for JavaScript, jQuery, AJAX course at CCSF" />
    <link rel="stylesheet" href="styles.css" />
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"
        integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
    <title>JavaScript - Homework 2</title>
</head>

<body>
    <h1>CNIT 133 Homework 2 (Extra credit) - U.S. Dollars exchanges calculator with jQuery</h1>
    <ul class="nav">
        <li>
            <a href="./hw2.html">Homework 2 Main Page</a>
        </li>
        <li><a href="./hw2-part1.html">Part 1 - using document.write() to display elements</a></li>

        <li><a href="./hw2-part2.html">Part 2 - user input and math calculation</a></li>
    </ul>
    <p id="instructionsBtn">Click to Show/Hide Instructions</p>
    <div id="instructionsContent" class="hide">
        <p>The foreign exchange rates in June 2021</p>
        <p>Enter a dollar amount in the table below to see the corresponding foreign exchange values'</p>
    </div>
    <table>
        <thead>
            <tr>
                <th colspan="3">Monetary Exchange Rates</th>
            </tr>
            <tr>
                <th>Currency</th>
                <th>Rate</th>
                <th>Value</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Euro</td>
                <td>0.84</td>
                <td></td>
            </tr>
            <tr>
                <td>Canadian Dollar</td>
                <td>1.23</td>
                <td></td>
            </tr>
            <tr>
                <td>Hong Kong Dollar</td>
                <td>7.76</td>
                <td></td>
            </tr>
            <tr>
                <td>Japanese Yen</td>
                <td>110.80</td>
                <td></td>
            </tr>
            <tr>
                <td>Mexican Peso</td>
                <td>19.82</td>
                <td></td>
            </tr>
            <tr>
                <th colspan="2">Enter Amount of U.S. Dollars</th>
                <th><input name="amount" type="number" id="amount" /></th>
            </tr>
        </tbody>
    </table>
    <script>
        $(document).ready(function () {
            const instructionsBtn = $('#instructionsBtn')
            const instructionsContent = $('#instructionsContent')
            instructionsBtn.click(function () {
                instructionsContent.toggleClass('hide')
            });
            const tableBodyTr = $('table tbody tr')
            const inputAmount = $('#amount')
            inputAmount.click(function () {
                inputAmount.css({ "background-color": "rgb(241, 163, 163)" })
            })
            inputAmount.on("change", function () {
                tableBodyTr.each(function (index) {
                    if (index < 5) {
                        const rate = Number($(this).children('td').eq(1).html())
                        const amount = Number(inputAmount.val())
                        $(this).children('td').eq(2).text((rate * amount).toFixed(2))
                    }

                })
            })
        })
    </script>
</body>

</html>